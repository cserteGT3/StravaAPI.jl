# Julia client for Strava API

[![Stable](https://img.shields.io/badge/docs-stable-blue.svg)](https://cserteGT3.github.io/StravaAPI.jl/stable/)
[![Dev](https://img.shields.io/badge/docs-dev-blue.svg)](https://cserteGT3.github.io/StravaAPI.jl/dev/)
[![Build Status](https://github.com/cserteGT3/StravaAPI.jl/actions/workflows/CI.yml/badge.svg?branch=main)](https://github.com/cserteGT3/StravaAPI.jl/actions/workflows/CI.yml?query=branch%3Amain)

The code is generated with [OpenAPI.jl](https://github.com/JuliaComputing/OpenAPI.jl) and [PkgTemplates.jl](https://github.com/JuliaCI/PkgTemplates.jl).
See the code below.

## Code to generate the package

To update or generate the package code, run the following commands (make sure, that docker runs in the background).
Currenty directory should be `~/.julia/dev`.

```julia
using HTTP, OpenAPI, JSON
r = HTTP.get("https://developers.strava.com/swagger/swagger.json");
d = JSON.parse(String(r.body))
OpenAPI.openapi_generator()
OpenAPI.generate(d;package_name = "StravaAPI", output_dir = "StravaAPI")
OpenAPI.stop_openapi_generator()
```

### Updating the package

Not tested yet.

1. Use the code to generate source code and documentation.
2. Ignore changes in `Readme.md` (probably shoud delete the generated stuff).
3. Move the generated documentation files from `docs` to `docs/src`.
4. Replace `../README` with `../../README` in all files in `docs/src`.

## Generated Readme

The [Swagger Playground](https://developers.strava.com/playground) is the easiest way to familiarize yourself with the Strava API by submitting HTTP requests and observing the responses before you write any client code. It will show what a response will look like with different endpoints depending on the authorization scope you receive from your athletes. To use the Playground, go to <https://www.strava.com/settings/api> and change your “Authorization Callback Domain” to developers.strava.com. Please note, we only support Swagger 2.0. There is a known issue where you can only select one scope at a time. For more information, please check the section “client code” at <https://developers.strava.com/docs>.

### Overview

This API client was generated by the [OpenAPI Generator](https://openapi-generator.tech) project.  By using the [openapi-spec](https://openapis.org) from a remote server, you can easily generate an API client.

- API version: 3.0.0
- Generator version: 7.8.0-SNAPSHOT
- Build package: org.openapitools.codegen.languages.JuliaClientCodegen

### Installation

Place the Julia files generated under the `src` folder in your Julia project. Include StravaAPI.jl in the project code.
It would include the module named StravaAPI.

Documentation is generated as markdown files under the `docs` folder. You can include them in your project documentation.
Documentation is also embedded in Julia which can be used with a Julia specific documentation generator.

### API Endpoints

Class | Method
------------ | -------------
*ActivitiesApi* | [**create_activity**](docs/src/ActivitiesApi.md#create_activity)<br/>**POST** /activities<br/>Create an Activity
*ActivitiesApi* | [**get_activity_by_id**](docs/src/ActivitiesApi.md#get_activity_by_id)<br/>**GET** /activities/{id}<br/>Get Activity
*ActivitiesApi* | [**get_comments_by_activity_id**](docs/src/ActivitiesApi.md#get_comments_by_activity_id)<br/>**GET** /activities/{id}/comments<br/>List Activity Comments
*ActivitiesApi* | [**get_kudoers_by_activity_id**](docs/src/ActivitiesApi.md#get_kudoers_by_activity_id)<br/>**GET** /activities/{id}/kudos<br/>List Activity Kudoers
*ActivitiesApi* | [**get_laps_by_activity_id**](docs/src/ActivitiesApi.md#get_laps_by_activity_id)<br/>**GET** /activities/{id}/laps<br/>List Activity Laps
*ActivitiesApi* | [**get_logged_in_athlete_activities**](docs/src/ActivitiesApi.md#get_logged_in_athlete_activities)<br/>**GET** /athlete/activities<br/>List Athlete Activities
*ActivitiesApi* | [**get_zones_by_activity_id**](docs/src/ActivitiesApi.md#get_zones_by_activity_id)<br/>**GET** /activities/{id}/zones<br/>Get Activity Zones
*ActivitiesApi* | [**update_activity_by_id**](docs/src/ActivitiesApi.md#update_activity_by_id)<br/>**PUT** /activities/{id}<br/>Update Activity
*AthletesApi* | [**get_logged_in_athlete**](docs/src/AthletesApi.md#get_logged_in_athlete)<br/>**GET** /athlete<br/>Get Authenticated Athlete
*AthletesApi* | [**get_logged_in_athlete_zones**](docs/src/AthletesApi.md#get_logged_in_athlete_zones)<br/>**GET** /athlete/zones<br/>Get Zones
*AthletesApi* | [**get_stats**](docs/src/AthletesApi.md#get_stats)<br/>**GET** /athletes/{id}/stats<br/>Get Athlete Stats
*AthletesApi* | [**update_logged_in_athlete**](docs/src/AthletesApi.md#update_logged_in_athlete)<br/>**PUT** /athlete<br/>Update Athlete
*ClubsApi* | [**get_club_activities_by_id**](docs/src/ClubsApi.md#get_club_activities_by_id)<br/>**GET** /clubs/{id}/activities<br/>List Club Activities
*ClubsApi* | [**get_club_admins_by_id**](docs/src/ClubsApi.md#get_club_admins_by_id)<br/>**GET** /clubs/{id}/admins<br/>List Club Administrators
*ClubsApi* | [**get_club_by_id**](docs/src/ClubsApi.md#get_club_by_id)<br/>**GET** /clubs/{id}<br/>Get Club
*ClubsApi* | [**get_club_members_by_id**](docs/src/ClubsApi.md#get_club_members_by_id)<br/>**GET** /clubs/{id}/members<br/>List Club Members
*ClubsApi* | [**get_logged_in_athlete_clubs**](docs/src/ClubsApi.md#get_logged_in_athlete_clubs)<br/>**GET** /athlete/clubs<br/>List Athlete Clubs
*GearsApi* | [**get_gear_by_id**](docs/src/GearsApi.md#get_gear_by_id)<br/>**GET** /gear/{id}<br/>Get Equipment
*RoutesApi* | [**get_route_as_g_p_x**](docs/src/RoutesApi.md#get_route_as_g_p_x)<br/>**GET** /routes/{id}/export_gpx<br/>Export Route GPX
*RoutesApi* | [**get_route_as_t_c_x**](docs/src/RoutesApi.md#get_route_as_t_c_x)<br/>**GET** /routes/{id}/export_tcx<br/>Export Route TCX
*RoutesApi* | [**get_route_by_id**](docs/src/RoutesApi.md#get_route_by_id)<br/>**GET** /routes/{id}<br/>Get Route
*RoutesApi* | [**get_routes_by_athlete_id**](docs/src/RoutesApi.md#get_routes_by_athlete_id)<br/>**GET** /athletes/{id}/routes<br/>List Athlete Routes
*SegmentEffortsApi* | [**get_efforts_by_segment_id**](docs/src/SegmentEffortsApi.md#get_efforts_by_segment_id)<br/>**GET** /segment_efforts<br/>List Segment Efforts
*SegmentEffortsApi* | [**get_segment_effort_by_id**](docs/src/SegmentEffortsApi.md#get_segment_effort_by_id)<br/>**GET** /segment_efforts/{id}<br/>Get Segment Effort
*SegmentsApi* | [**explore_segments**](docs/src/SegmentsApi.md#explore_segments)<br/>**GET** /segments/explore<br/>Explore segments
*SegmentsApi* | [**get_logged_in_athlete_starred_segments**](docs/src/SegmentsApi.md#get_logged_in_athlete_starred_segments)<br/>**GET** /segments/starred<br/>List Starred Segments
*SegmentsApi* | [**get_segment_by_id**](docs/src/SegmentsApi.md#get_segment_by_id)<br/>**GET** /segments/{id}<br/>Get Segment
*SegmentsApi* | [**star_segment**](docs/src/SegmentsApi.md#star_segment)<br/>**PUT** /segments/{id}/starred<br/>Star Segment
*StreamsApi* | [**get_activity_streams**](docs/src/StreamsApi.md#get_activity_streams)<br/>**GET** /activities/{id}/streams<br/>Get Activity Streams
*StreamsApi* | [**get_route_streams**](docs/src/StreamsApi.md#get_route_streams)<br/>**GET** /routes/{id}/streams<br/>Get Route Streams
*StreamsApi* | [**get_segment_effort_streams**](docs/src/StreamsApi.md#get_segment_effort_streams)<br/>**GET** /segment_efforts/{id}/streams<br/>Get Segment Effort Streams
*StreamsApi* | [**get_segment_streams**](docs/src/StreamsApi.md#get_segment_streams)<br/>**GET** /segments/{id}/streams<br/>Get Segment Streams
*UploadsApi* | [**create_upload**](docs/src/UploadsApi.md#create_upload)<br/>**POST** /uploads<br/>Upload Activity
*UploadsApi* | [**get_upload_by_id**](docs/src/UploadsApi.md#get_upload_by_id)<br/>**GET** /uploads/{uploadId}<br/>Get Upload

### Models

- [ActivityStats](docs/src/ActivityStats.md)
- [ActivityTotal](docs/src/ActivityTotal.md)
- [ActivityType](docs/src/ActivityType.md)
- [ActivityZone](docs/src/ActivityZone.md)
- [AltitudeStream](docs/src/AltitudeStream.md)
- [BaseStream](docs/src/BaseStream.md)
- [CadenceStream](docs/src/CadenceStream.md)
- [ClubActivity](docs/src/ClubActivity.md)
- [ClubAthlete](docs/src/ClubAthlete.md)
- [Comment](docs/src/Comment.md)
- [DetailedActivity](docs/src/DetailedActivity.md)
- [DetailedAthlete](docs/src/DetailedAthlete.md)
- [DetailedClub](docs/src/DetailedClub.md)
- [DetailedGear](docs/src/DetailedGear.md)
- [DetailedSegment](docs/src/DetailedSegment.md)
- [DetailedSegmentEffort](docs/src/DetailedSegmentEffort.md)
- [DistanceStream](docs/src/DistanceStream.md)
- [Error](docs/src/Error.md)
- [ExplorerResponse](docs/src/ExplorerResponse.md)
- [ExplorerSegment](docs/src/ExplorerSegment.md)
- [Fault](docs/src/Fault.md)
- [HeartRateZoneRanges](docs/src/HeartRateZoneRanges.md)
- [HeartrateStream](docs/src/HeartrateStream.md)
- [Lap](docs/src/Lap.md)
- [LatLngStream](docs/src/LatLngStream.md)
- [MetaActivity](docs/src/MetaActivity.md)
- [MetaAthlete](docs/src/MetaAthlete.md)
- [MetaClub](docs/src/MetaClub.md)
- [MovingStream](docs/src/MovingStream.md)
- [PhotosSummary](docs/src/PhotosSummary.md)
- [PhotosSummaryPrimary](docs/src/PhotosSummaryPrimary.md)
- [PolylineMap](docs/src/PolylineMap.md)
- [PowerStream](docs/src/PowerStream.md)
- [PowerZoneRanges](docs/src/PowerZoneRanges.md)
- [Route](docs/src/Route.md)
- [SmoothGradeStream](docs/src/SmoothGradeStream.md)
- [SmoothVelocityStream](docs/src/SmoothVelocityStream.md)
- [Split](docs/src/Split.md)
- [SportType](docs/src/SportType.md)
- [StreamSet](docs/src/StreamSet.md)
- [SummaryActivity](docs/src/SummaryActivity.md)
- [SummaryAthlete](docs/src/SummaryAthlete.md)
- [SummaryClub](docs/src/SummaryClub.md)
- [SummaryGear](docs/src/SummaryGear.md)
- [SummaryPRSegmentEffort](docs/src/SummaryPRSegmentEffort.md)
- [SummarySegment](docs/src/SummarySegment.md)
- [SummarySegmentEffort](docs/src/SummarySegmentEffort.md)
- [TemperatureStream](docs/src/TemperatureStream.md)
- [TimeStream](docs/src/TimeStream.md)
- [TimedZoneRange](docs/src/TimedZoneRange.md)
- [UpdatableActivity](docs/src/UpdatableActivity.md)
- [Upload](docs/src/Upload.md)
- [Waypoint](docs/src/Waypoint.md)
- [ZoneRange](docs/src/ZoneRange.md)
- [Zones](docs/src/Zones.md)

## Authorization

Authentication schemes defined for the API:

### strava_oauth

- **Type**: OAuth
- **Flow**: accessCode
- **Authorization URL**: https://www.strava.com/api/v3/oauth/authorize
- **Scopes**:
  - **read_all**: Read private routes, private segments, and private events for the user
  - **profile:write**: Update the user's weight and Functional Threshold Power (FTP), and access to star or unstar segments on their behalf
  - **activity:read_all**: The same access as activity:read, plus privacy zone data and access to read the user's activities with visibility set to Only You
  - **activity:write**: Access to create manual activities and uploads, and access to edit any activities that are visible to the app, based on activity read access level
  - **profile:read_all**: Read all profile information even if the user has set their profile visibility to Followers or Only You
  - **activity:read**: Read the user's activity data for activities that are visible to Everyone and Followers, excluding privacy zone data
  - **read**: Read public segments, public routes, public profile data, public posts, public events, club feeds, and leaderboards

Example

```julia
using OpenAPI
using OpenAPI.Clients
import OpenAPI.Clients: Client, set_header
client = Client(server_uri)
set_header(client, "Authorization", "Bearer $bearer_auth")
api = MyApi(client)
result = callApi(api, args...; api_key)
```
